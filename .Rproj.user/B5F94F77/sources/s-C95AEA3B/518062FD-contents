#' Highest Density Point (HDP).
#'
#' Find the Highest Density Point (HDP) in a distribution.
#'
#' @param x vector.
#' @param precision number of points for density estimation. See the `n` parameter in \link[=density]{density}.
#'
#' @examples
#' library(bayestestR)
#'
#' posterior <- rnorm(1000, 1, 1)
#' odds_h0(posterior)
#'
#' @author \href{https://dominiquemakowski.github.io/}{Dominique Makowski}
#' @importFrom stats density
#' @export
odds_h0 <- function(posterior, precision = 512) {
  if(pd(posterior) < 100){
    # Highest density point
    map <- map_estimate(posterior)[2]

    # Density at 0
    d <- density(posterior, n = precision)
    closest_value_to_0 <- which.min(abs(d$x))
    d_0 <- d$y[closest_value_to_0]

    # Odds
    return(hdp / d_0)
  } else{
    return(Inf)
  }
}

